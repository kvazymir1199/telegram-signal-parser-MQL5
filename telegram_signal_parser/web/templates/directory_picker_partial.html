<div class="space-y-4">
    <!-- Current Path Display -->
    <div class="flex items-center gap-2 p-2 bg-slate-900/50 rounded-lg border border-slate-700">
        <i class="fa-solid fa-folder-open text-blue-400"></i>
        <span class="text-[10px] font-mono text-slate-300 truncate flex-1" title="{{ current_path }}">{{ current_path }}</span>
    </div>

    <!-- Navigation List -->
    <div class="max-h-64 overflow-y-auto custom-scrollbar border border-slate-700 rounded-xl bg-slate-900/30">
        {% if parent_path %}
        <div class="p-3 hover:bg-slate-800 cursor-pointer flex items-center border-b border-slate-700/50 group"
             hx-get="/settings/browse?current_path={{ parent_path | urlencode }}&target_input={{ target_input }}"
             hx-target="#picker-content">
            <i class="fa-solid fa-arrow-up text-slate-500 group-hover:text-blue-400 mr-3"></i>
            <span class="text-sm font-medium">.. (Up one level)</span>
        </div>
        {% endif %}

        {% for item in items %}
        <div class="p-3 hover:bg-slate-800 cursor-pointer flex items-center border-b border-slate-700/30 group"
             hx-get="/settings/browse?current_path={{ item.path | urlencode }}&target_input={{ target_input }}"
             hx-target="#picker-content">
            <i class="fa-solid fa-folder text-yellow-500/80 group-hover:text-yellow-400 mr-3"></i>
            <span class="text-sm truncate">{{ item.name }}</span>
        </div>
        {% endfor %}

        {% if not items and not parent_path %}
        <div class="p-8 text-center text-slate-500 italic text-sm">No access or empty directory</div>
        {% endif %}
    </div>

    <!-- Actions -->
    <div class="flex gap-3 pt-2">
        <button type="button"
                onclick="selectFolder('{{ current_path | replace('\\', '\\\\') }}', '{{ target_input }}')"
                class="flex-1 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-sm font-bold transition-all shadow-lg shadow-blue-900/20">
            Select This Folder
        </button>
        <button type="button" onclick="closePicker()"
                class="px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm font-bold">
            Cancel
        </button>
    </div>
</div>
